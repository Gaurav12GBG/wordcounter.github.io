{% extends 'base.html' %}

{% block title %}WordCounter - Change_Password{% endblock title %}

{% block body %}
<div class="container" style="margin-top:10%;">
  <div class="card w-50 shadow m-auto">
    <div class="card-header text-light text-center h5" style="  background-color:#0C4B33;">
      Change Your Password?
    </div>
    <div style=" background-color:#44B78B;
          height:12px;">
    </div>
    <div class="card-body">
      <form class="mt-1" action="/change_password" method="post">{% csrf_token %}
        <div class="row w-75 mx-auto">
          <div class="col-md-8 mx-auto">
            {% for message in messages %}
            <p class="text-{{message.tags}} text-center h5"><strong>{{message}}<strong></p>
            {% endfor %}
          </div>
          <div class="col-md-12 my-2">
            <div class="form-group">
              <label for="password">Current Password</label>
              <input type="password" class="form-control" name="cpwd" placeholder="Old password" required>
            </div>
          </div>
          <div class="col-md-12 my-2">
            <div class="form-group">
              <html>

              </html>
              <label for="password">New Password</label>
              <input type="password" class="form-control" name="npwd" placeholder="New password" id="pas"
                onkeyup="check_pass()" required>
            </div>
          </div>
          <div class="col-md-12 my-2">
            <div class="form-group">
              <label for="password">Confirm New Password</label>
              <input type="password" class="form-control" id="cpas" placeholder="Confirm new password"
                onkeyup="check_pass()" required>
            </div>
          </div>
          <button class="btn mt-3 text-light mb-2" id="sbbtn" style=" width: 92%;
  margin: auto;
  background-color:#0C4B33;">Submit</button>
      </form>
    </div>
  </div>
</div>
</div>

{% endblock body %}
{% block js %}
<script>
  function check_pass() {
    let p = $("#pas").val();
    let cp = $("#cpas").val();

    if (p == cp) {
      $("#pas").css("border", "1px solid green");
      $("#cpas").css("border", "1px solid green");
      // $("#pas").removeClass("alert alert-danger").addClass("alert alert-success");
      // $("#cpas").removeClass("alert alert-danger").addClass("alert alert-success");
      $("#sbbtn").removeAttr("disabled");
    } else {
      $("#pas").css("border", "1px solid red");
      $("#cpas").css("border", "1px solid red");
      // $("#pas").removeClass("alert alert-success").addClass("alert alert-danger");
      // $("#cpas").removeClass("alert alert-success").addClass("alert alert-danger");

      $("#sbbtn").attr("disabled", "disabled");
    }
  }
</script>
{% endblock js %}